<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>29&nbsp;主框架视图控制器</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">&#29992;Racket&#20570;&#19968;&#20010;&#25340;&#22270;&#28216;&#25103;</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="foreword.html" class="tocviewlink" data-pltdoc="x">&#21069;&#35328;</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="goal.html" class="tocviewlink" data-pltdoc="x">&#35774;&#35745;&#30446;&#26631;</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="idea.html" class="tocviewlink" data-pltdoc="x">&#35774;&#35745;&#24605;&#36335;</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="tool.html" class="tocviewlink" data-pltdoc="x">&#23454;&#29616;&#24037;&#20855;</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="get-source-picture.html" class="tocviewlink" data-pltdoc="x">&#21462;&#24471;&#28304;&#22270;&#29255;</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="set-picture-size.html" class="tocviewlink" data-pltdoc="x">&#35774;&#32622;&#22270;&#29255;&#23610;&#23544;</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="adjust-picture-size.html" class="tocviewlink" data-pltdoc="x">&#35843;&#25972;&#26174;&#31034;&#22270;&#29255;&#22823;&#23567;</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="split-picture-by-row-col.html" class="tocviewlink" data-pltdoc="x">&#25353;&#34892;&#21015;&#20998;&#21106;&#22270;&#29255;</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="make-cell.html" class="tocviewlink" data-pltdoc="x">&#29983;&#25104;&#21333;&#20803;&#26684;&#25968;&#25454;</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="split-picture-to-cell-list.html" class="tocviewlink" data-pltdoc="x">&#20998;&#21106;&#22270;&#29255;&#21040;&#21333;&#20803;&#26684;&#21015;&#34920;</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="cell-list-to-hash.html" class="tocviewlink" data-pltdoc="x">&#23558;&#21333;&#20803;&#26684;&#21015;&#34920;&#36716;&#25442;&#20026;&#25955;&#21015;&#34920;</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="blend-cells.html" class="tocviewlink" data-pltdoc="x">&#28151;&#21512;&#21333;&#20803;&#26684;</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="model_draw-cells-to-picture.html" class="tocviewlink" data-pltdoc="x">&#32472;&#21046;&#21333;&#20803;&#26684;&#34920;&#20026;&#22270;&#29255;</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="model_use-id.html" class="tocviewlink" data-pltdoc="x">&#25805;&#20316;id</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="model_init-puzzle-data.html" class="tocviewlink" data-pltdoc="x">&#21021;&#22987;&#21270;&#25340;&#22270;&#25968;&#25454;</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="model_recover-puzzle.html" class="tocviewlink" data-pltdoc="x">&#24674;&#22797;&#25340;&#22270;&#21021;&#22987;&#29366;&#24577;</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="model_success.html" class="tocviewlink" data-pltdoc="x">&#21028;&#26029;&#26159;&#21542;&#25104;&#21151;&#23436;&#25104;&#25340;&#22270;</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="model_provide.html" class="tocviewlink" data-pltdoc="x">&#27719;&#24635;&#25552;&#20379;&#26631;&#35782;</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="gui_create-frame.html" class="tocviewlink" data-pltdoc="x">&#23450;&#20041;&#20027;&#35270;&#22270;&#26694;&#26550;</a></td></tr><tr><td align="right">20&nbsp;</td><td><a href="view_design-layout.html" class="tocviewlink" data-pltdoc="x">&#35268;&#21010;&#24067;&#23616;</a></td></tr><tr><td align="right">21&nbsp;</td><td><a href="gui_create-main-frame.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#20027;&#31383;&#21475;</a></td></tr><tr><td align="right">22&nbsp;</td><td><a href="layout_create-layout.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#31383;&#21475;&#24067;&#23616;</a></td></tr><tr><td align="right">23&nbsp;</td><td><a href="gui_create-left-layout.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#24038;&#20391;&#24067;&#23616;</a></td></tr><tr><td align="right">24&nbsp;</td><td><a href="view_create-command-area.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#21629;&#20196;&#21151;&#33021;&#21306;</a></td></tr><tr><td align="right">25&nbsp;</td><td><a href="gui_create-row-col-set-group.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#34892;&#21015;&#35774;&#32622;&#32452;</a></td></tr><tr><td align="right">26&nbsp;</td><td><a href="gui_create-puzzle-command-button-group.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#25340;&#22270;&#21629;&#20196;&#25353;&#38062;&#32452;</a></td></tr><tr><td align="right">27&nbsp;</td><td><a href="gui_create-status-area.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#29366;&#24577;&#26174;&#31034;&#21306;</a></td></tr><tr><td align="right">28&nbsp;</td><td><a href="gui_create-right-layout.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#21491;&#20391;&#24067;&#23616;</a></td></tr><tr><td align="right">29&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#20027;&#26694;&#26550;&#35270;&#22270;&#25511;&#21046;&#22120;</a></td></tr><tr><td align="right">30&nbsp;</td><td><a href="controler_puzzle-canvas-class.html" class="tocviewlink" data-pltdoc="x">&#25340;&#22270;&#30011;&#24067;&#31867;</a></td></tr><tr><td align="right">31&nbsp;</td><td><a href="puzzle-main.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#20027;&#31243;&#24207;</a></td></tr><tr><td align="right">32&nbsp;</td><td><a href="create-executable.html" class="tocviewlink" data-pltdoc="x">&#21019;&#24314;&#21487;&#25191;&#34892;&#31243;&#24207;</a></td></tr><tr><td align="right">33&nbsp;</td><td><a href="knowledge-points.html" class="tocviewlink" data-pltdoc="x">&#30693;&#35782;&#28857;</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>29&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#20027;&#26694;&#26550;&#35270;&#22270;&#25511;&#21046;&#22120;</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">29.1&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fshow-main-frame%29" class="tocviewlink" data-pltdoc="x">&#26174;&#31034;&#20027;&#30028;&#38754;</a></td></tr><tr><td align="right">29.2&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fcanvas-target-callback%29" class="tocviewlink" data-pltdoc="x">&#30446;&#26631;&#30011;&#24067;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td align="right">29.3&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fbutton-exit-callback%29" class="tocviewlink" data-pltdoc="x">&#36864;&#20986;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td align="right">29.4&nbsp;</td><td><a href="#%28part._main-frame-controler%2Ftext-row-col-callback%29" class="tocviewlink" data-pltdoc="x">text/<span class="mywbr"> &nbsp;</span>row控件和text/<span class="mywbr"> &nbsp;</span>col&#25511;&#20214;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td align="right">29.5&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fchoice-rc-callback%29" class="tocviewlink" data-pltdoc="x">choice/<span class="mywbr"> &nbsp;</span>r&amp;c&#34892;&#21015;&#36873;&#25321;&#26694;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td align="right">29.6&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fbutton-select-picture-callback%29" class="tocviewlink" data-pltdoc="x">button/<span class="mywbr"> &nbsp;</span>select-<wbr></wbr>picture&#36873;&#25321;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td align="right">29.7&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fbutton-blend-cells-callback%29" class="tocviewlink" data-pltdoc="x">button/<span class="mywbr"> &nbsp;</span>blend-<wbr></wbr>cells&#28151;&#21512;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td align="right">29.8&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fsetted-rc-value~3f%29" class="tocviewlink" data-pltdoc="x">&#21028;&#26029;&#35774;&#32622;&#34892;&#21015;&#25968;&#26159;&#21542;&#25104;&#21151;</a></td></tr><tr><td align="right">29.9&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fbutton-play-again%29" class="tocviewlink" data-pltdoc="x">button/<span class="mywbr"> &nbsp;</span>play-<wbr></wbr>again&#20877;&#26469;&#19968;&#27425;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td align="right">29.10&nbsp;</td><td><a href="#%28part._main-frame-controler%2Finit-main-frame%29" class="tocviewlink" data-pltdoc="x">&#21021;&#22987;&#21270;&#20027;&#30028;&#38754;</a></td></tr><tr><td align="right">29.11&nbsp;</td><td><a href="#%28part._main-frame-controler%2Fset-target-size%29" class="tocviewlink" data-pltdoc="x">&#35774;&#32622;&#30446;&#26631;&#22270;&#29255;&#30011;&#24067;&#23610;&#23544;</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">29.1<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fshow-main-frame%29" class="tocsubseclink" data-pltdoc="x">&#26174;&#31034;&#20027;&#30028;&#38754;</a></td></tr><tr><td><span class="tocsublinknumber">29.2<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fcanvas-target-callback%29" class="tocsubseclink" data-pltdoc="x">&#30446;&#26631;&#30011;&#24067;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td><span class="tocsublinknumber">29.3<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fbutton-exit-callback%29" class="tocsubseclink" data-pltdoc="x">&#36864;&#20986;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td><span class="tocsublinknumber">29.4<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Ftext-row-col-callback%29" class="tocsubseclink" data-pltdoc="x">text/<span class="mywbr"> &nbsp;</span>row控件和text/<span class="mywbr"> &nbsp;</span>col&#25511;&#20214;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td><span class="tocsublinknumber">29.5<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fchoice-rc-callback%29" class="tocsubseclink" data-pltdoc="x">choice/<span class="mywbr"> &nbsp;</span>r&amp;c&#34892;&#21015;&#36873;&#25321;&#26694;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td><span class="tocsublinknumber">29.6<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fbutton-select-picture-callback%29" class="tocsubseclink" data-pltdoc="x">button/<span class="mywbr"> &nbsp;</span>select-<wbr></wbr>picture&#36873;&#25321;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td><span class="tocsublinknumber">29.7<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fbutton-blend-cells-callback%29" class="tocsubseclink" data-pltdoc="x">button/<span class="mywbr"> &nbsp;</span>blend-<wbr></wbr>cells&#28151;&#21512;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td><span class="tocsublinknumber">29.8<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fsetted-rc-value~3f%29" class="tocsubseclink" data-pltdoc="x">&#21028;&#26029;&#35774;&#32622;&#34892;&#21015;&#25968;&#26159;&#21542;&#25104;&#21151;</a></td></tr><tr><td><span class="tocsublinknumber">29.9<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fbutton-play-again%29" class="tocsubseclink" data-pltdoc="x">button/<span class="mywbr"> &nbsp;</span>play-<wbr></wbr>again&#20877;&#26469;&#19968;&#27425;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</a></td></tr><tr><td><span class="tocsublinknumber">29.10<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Finit-main-frame%29" class="tocsubseclink" data-pltdoc="x">&#21021;&#22987;&#21270;&#20027;&#30028;&#38754;</a></td></tr><tr><td><span class="tocsublinknumber">29.11<tt>&nbsp;</tt></span><a href="#%28part._main-frame-controler%2Fset-target-size%29" class="tocsubseclink" data-pltdoc="x">&#35774;&#32622;&#30446;&#26631;&#22270;&#29255;&#30011;&#24067;&#23610;&#23544;</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.9</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="gui_create-right-layout.html" title="backward to &quot;28 创建右侧布局&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;用Racket做一个拼图游戏&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="controler_puzzle-canvas-class.html" title="forward to &quot;30 拼图画布类&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>29<tt>&nbsp;</tt><a name="(part._controler/main-frame-controler)"></a>&#20027;&#26694;&#26550;&#35270;&#22270;&#25511;&#21046;&#22120;</h3><p>&#20027;&#26694;&#26550;&#35270;&#22270;&#25511;&#21046;&#22120;&#26159;&#20043;&#21069;&#35762;&#36807;&#30340;MVC&#31243;&#24207;&#32467;&#26500;&#20013;&#30340;&#8220;C&#8221;&#37096;&#20998;&#65292;&#23558;&#27169;&#22359;&#25991;&#20214;&#21629;&#21517;&#20026;&#8220;main-frame-controler.rkt&#8221;&#12290;</p><p>&#22312;&#36825;&#19968;&#33410;&#37324;&#65292;&#23558;&#36827;&#20837;&#25104;&#26524;&#20139;&#21463;&#22411;&#32534;&#31243;&#27169;&#24335;&#65292;&#19968;&#26041;&#38754;&#26159;&#22240;&#20026;&#20027;&#35201;&#24037;&#20316;&#23601;&#26159;&#20026;&#20102;&#23436;&#21892;&#35270;&#22270;&#65288;V&#65289;&#37096;&#20998;&#30340;&#30456;&#24212;&#20989;&#25968;&#65292;&#21478;&#19968;&#26041;&#38754;&#26159;&#22240;&#20026;&#22522;&#26412;&#19978;&#37117;&#26159;&#20351;&#29992;&#20043;&#21069;&#27169;&#22411;&#65288;M&#65289;&#37096;&#20998;&#32534;&#31243;&#30340;&#25104;&#26524;&#26469;&#25645;&#24314;&#12290;</p><h4>29.1<tt>&nbsp;</tt><a name="(part._main-frame-controler/show-main-frame)"></a>&#26174;&#31034;&#20027;&#30028;&#38754;</h4><p>&#20808;&#30475;&#20195;&#30721;&#12290;&#20877;&#20316;&#35299;&#37322;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#26174;&#31034;&#20027;&#30028;&#38754;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">show-main-frame</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">main-frame</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">show</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#20010;&#20989;&#25968;&#23601;&#19968;&#34892;&#65292;&#21457;&#28040;&#24687;&#32473;&#20027;&#26694;&#26550;&#31383;&#21475;&#36890;&#30693;&#20854;&#26174;&#31034;&#20986;&#26469;&#12290;&#20043;&#21069;&#24050;&#32463;&#35762;&#28165;&#26970;&#20102;&#65292;&#27809;&#21861;&#35828;&#30340;&#12290;</p><p>&#25509;&#19979;&#26469;&#19968;&#20010;&#19968;&#20010;&#23436;&#21892;&#25511;&#20214;&#21709;&#24212;&#22238;&#35843;&#20989;&#25968;&#12290;</p><h4>29.2<tt>&nbsp;</tt><a name="(part._main-frame-controler/canvas-target-callback)"></a>&#30446;&#26631;&#30011;&#24067;&#21709;&#24212;&#20989;&#25968;</h4><p>&#20808;&#30475;&#20195;&#30721;&#12290;&#20877;&#20316;&#35299;&#37322;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#30446;&#26631;&#30011;&#24067;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">canvas/target-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">dc</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">draw-target-picture</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">dc</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#20010;&#20989;&#25968;&#23601;&#19968;&#34892;&#12290;&#29992;&#27169;&#22411;&#37096;&#20998;&#35774;&#35745;&#30340;&#20989;&#25968;&#26469;&#30011;&#20986;&#25340;&#22270;&#30446;&#26631;&#22270;&#29255;&#12290;&#20043;&#21069;&#24050;&#32463;&#35762;&#28165;&#26970;&#20102;&#65292;&#27809;&#21861;&#35828;&#30340;&#12290;</p><h4>29.3<tt>&nbsp;</tt><a name="(part._main-frame-controler/button-exit-callback)"></a>&#36864;&#20986;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</h4><p>&#20808;&#30475;&#20195;&#30721;&#12290;&#20877;&#20316;&#35299;&#37322;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#36864;&#20986;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">button/exit-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">event</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">main-frame</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">on-exit</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#20010;&#20989;&#25968;&#23601;&#19968;&#34892;&#65292;&#32473;&#20027;&#26694;&#26550;&#31383;&#21475;&#21457;&#36865;&#28040;&#24687;&#65292;&#20197;&#36864;&#20986;&#31243;&#24207;&#12290;&#20043;&#21069;&#24050;&#32463;&#35762;&#28165;&#26970;&#20102;&#65292;&#27809;&#21861;&#35828;&#30340;&#12290;</p><h4>29.4<tt>&nbsp;</tt><a name="(part._main-frame-controler/text-row-col-callback)"></a>text/row&#25511;&#20214;&#21644;text/col&#25511;&#20214;&#21709;&#24212;&#20989;&#25968;</h4><p>&#20808;&#30475;&#20195;&#30721;&#12290;&#20877;&#20316;&#35299;&#37322;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;text/row&#25511;&#20214;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">text/row-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">event</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">text/r&amp;c-callback/in</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#34892;"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;text/col&#25511;&#20214;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">text/col-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">event</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">text/r&amp;c-callback/in</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#21015;"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#37324;&#20986;&#29616;&#20102;&#23545;<span class="RktSym">text/r&amp;c-callback/in</span>&#30340;&#35843;&#29992;&#65292;&#23427;&#26159;&#19968;&#20010;&#23439;&#65292;&#29992;&#26469;&#29983;&#25104;&#22788;&#29702;&#25991;&#26412;&#23383;&#27573;&#25511;&#20214;&#28040;&#24687;&#30340;&#21709;&#24212;&#20989;&#25968;&#12290;&#22914;&#19979;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#34892;&#21015;&#25511;&#20214;&#21709;&#24212;&#20989;&#25968;&#23439;&#27169;&#26495;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define-syntax-rule</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">text/r&amp;c-callback/in</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r/c</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">let</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;number</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-value</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">not</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">""</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">format</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#36755;&#20837;&#38169;&#35823;&#65281;~a&#25968;&#24212;&#35813;&#26159;&#25968;&#23383;&#12290;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">format</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#35774;&#32622;&#20026;~a~a&#12290;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">unless</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">choice/r&amp;c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-selection</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">choice/r&amp;c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-selection</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">else</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">""</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">format</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#36755;&#20837;&#38169;&#35823;&#65281;~a&#24517;&#39035;&#22823;&#20110;0&#12290;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#37324;&#36890;&#36807;&#21028;&#26029;&#29992;&#25143;&#36755;&#20837;<span class="RktVar">v</span>&#30340;&#20540;&#30340;&#19981;&#21516;&#24773;&#20917;&#65292;&#36827;&#34892;&#26377;&#25928;&#24615;&#21028;&#26029;&#24182;&#32473;&#20986;&#25552;&#31034;&#12290;</p><p>&#36825;&#37324;&#36824;&#26159;&#29992;&#20102;&#20960;&#20010;&#32473;&#25511;&#20214;&#21457;&#28040;&#24687;&#24182;&#35843;&#29992;&#30340;&#19981;&#21516;&#25511;&#20214;&#26041;&#27861;&#65306;<span class="RktSym">get-value</span>&#26041;&#27861;&#20174;&#25991;&#26412;&#23383;&#27573;&#25511;&#20214;&#21462;&#24471;&#20540;&#65307;<span class="RktSym">set-value</span>&#26041;&#27861;&#32473;&#25991;&#26412;&#23383;&#27573;&#25511;&#20214;&#35774;&#32622;&#20540;&#65307;<span class="RktSym">get-selection</span>&#21462;&#24471;&#36873;&#25321;&#39033;&#30340;&#24403;&#21069;&#39033;&#30446;&#65307;<span class="RktSym">set-selection</span>&#35774;&#32622;&#36873;&#25321;&#39033;&#30340;&#24403;&#21069;&#39033;&#30446;&#12290;</p><p>&#20063;&#29992;&#21040;&#20102;&#20960;&#20010;&#20869;&#32622;&#20989;&#25968;&#65306;<span class="RktSym">string-&gt;number</span>&#23558;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026;&#25968;&#23383;&#65307;<span class="RktSym">format</span>&#26684;&#24335;&#21270;&#19968;&#20010;&#23383;&#31526;&#20018;&#65292;&#20854;&#20013;<span class="RktSym">~a</span>&#23558;&#27599;&#20010;&#23545;&#24212;&#30340;&#20540;&#36716;&#25442;&#20026;&#19968;&#20010;&#23383;&#31526;&#20018;&#65292;&#36825;&#20010;&#20989;&#25968;&#22312;&#38656;&#35201;&#36827;&#34892;&#26684;&#24335;&#21270;&#36755;&#20986;&#26102;&#38750;&#24120;&#26377;&#29992;&#12290;</p><p>&#21478;&#22806;&#65292;&#36825;&#37324;&#36824;&#29992;&#21040;&#20102;&#19968;&#20010;&#20989;&#25968;<span class="RktSym">msg-string</span>&#65292;&#23427;&#26159;&#29992;&#26469;&#23454;&#29616;&#23558;&#23383;&#31526;&#20018;&#36755;&#20986;&#21040;&#20449;&#24687;&#29366;&#24577;&#26465;&#20013;&#12290;&#20195;&#30721;&#22914;&#19979;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#26174;&#31034;&#23376;&#20018;&#20449;&#24687;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">message/status</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-label</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#37324;&#29992;&#21040;&#20102;<span class="RktSym">set-label</span>&#26469;&#32473;<span class="RktVar">message/status</span>&#21457;&#28040;&#24687;&#26356;&#25913;&#20854;&#26631;&#31614;&#20869;&#23481;&#65292;&#20197;&#23558;&#32473;&#23450;&#30340;&#23383;&#31526;&#20018;&#20449;&#24687;&#26174;&#31034;&#20986;&#26469;&#12290;</p><p>&#21516;&#26679;&#65292;&#20063;&#21487;&#20197;&#20889;&#19968;&#20010;&#26174;&#31034;&#40736;&#26631;&#31661;&#22836;&#20809;&#26631;&#20301;&#32622;&#30340;&#20989;&#25968;&#12290;&#22914;&#19979;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#26174;&#31034;&#40736;&#26631;&#22352;&#26631;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-mouse-pos</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">message/status</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-label</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">format</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#24403;&#21069;&#20809;&#26631;&#20301;&#32622;&#65306;x=~a&#65292;y=~a"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#20197;&#19978;&#21709;&#24212;&#20989;&#25968;&#20351;&#29992;&#30340;&#26159;<span class="RktSym">cond</span>&#26469;&#36827;&#34892;&#26465;&#20214;&#20998;&#25903;&#65292;&#22914;&#26524;&#29992;&#36807;&#20854;&#23427;&#32534;&#31243;&#35821;&#35328;&#65292;&#21487;&#33021;&#20250;&#20064;&#24815;&#24615;&#22320;&#20351;&#29992;<span class="RktSym">if</span>&#26469;&#23454;&#29616;&#23427;&#65292;&#35937;&#19979;&#38754;&#36825;&#26679;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#34892;&#21015;&#25511;&#20214;&#21709;&#24212;&#20989;&#25968;&#23439;&#27169;&#26495;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define-syntax-rule</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">text/r&amp;c-callback/in</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r/c</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">let</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">v</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;number</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-value</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">if</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">if</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">begin</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">format</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#35774;&#32622;&#20026;~a~a&#12290;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">v</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">unless</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">choice/r&amp;c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-selection</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">choice/r&amp;c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-selection</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">begin</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">""</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">format</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#36755;&#20837;&#38169;&#35823;&#65281;~a&#24517;&#39035;&#22823;&#20110;0&#12290;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">begin</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">""</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">format</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#36755;&#20837;&#38169;&#35823;&#65281;~a&#25968;&#24212;&#35813;&#26159;&#25968;&#23383;&#12290;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#23545;&#27604;&#20043;&#21518;&#20250;&#21457;&#29616;&#65292;&#37319;&#29992;<span class="RktSym">cond</span>&#26356;&#31616;&#27905;&#12290;&#22240;&#27492;&#35201;&#37325;&#35270;<span class="RktSym">cond</span>&#25552;&#20379;&#30340;&#28789;&#27963;&#12289;&#31616;&#27905;&#30340;&#26465;&#20214;&#20998;&#25903;&#26041;&#24335;&#12290;</p><p>&#20854;&#23454;<span class="RktSym">cond</span>&#20063;&#26159;Lisp&#35821;&#35328;&#33879;&#21517;&#30340;&#19971;&#20010;&#21407;&#22987;&#25805;&#20316;&#31526;&#65288;&#19971;&#20010;&#20844;&#29702;&#65289;&#20043;&#19968;&#12290;&#36825;&#19971;&#20010;&#21407;&#22987;&#25805;&#20316;&#31526;&#20998;&#21035;&#20026;&#65306;quote&#12289;atom&#12289;eq&#12289;car&#12289;cdr&#12289;cons&#21644;cond&#12290;&#36825;&#20063;&#26159;&#31070;&#22855;&#30340;Lisp&#35821;&#35328;&#30340;&#29420;&#29305;&#20043;&#22788;&#12290;</p><h4>29.5<tt>&nbsp;</tt><a name="(part._main-frame-controler/choice-rc-callback)"></a>choice/r&amp;c&#34892;&#21015;&#36873;&#25321;&#26694;&#21709;&#24212;&#20989;&#25968;</h4><p>&#20808;&#30475;&#20195;&#30721;&#65292;&#20877;&#20316;&#35299;&#37322;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;choice/r&amp;c&#34892;&#21015;&#36873;&#25321;&#26694;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">choice/r&amp;c-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">event</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">case</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-selection</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-r&amp;c-text-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-r&amp;c-text-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">5</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-r&amp;c-text-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">8</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">8</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-r&amp;c-text-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">10</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-r&amp;c-text-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">13</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">13</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-r&amp;c-text-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">15</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">15</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#20010;&#21709;&#24212;&#20989;&#25968;&#23601;&#26159;&#26681;&#25454;&#29992;&#25143;&#23545;&#36873;&#25321;&#39033;&#25511;&#20214;&#30340;&#36873;&#25321;&#24773;&#20917;&#26469;&#35774;&#32622;&#25991;&#26412;&#23383;&#27573;&#25511;&#20214;&#30340;&#20540;&#12290;&#23545;&#20540;&#30340;&#21305;&#37197;&#26159;&#20351;&#29992;<span class="RktSym">case</span>&#26469;&#23454;&#29616;&#30340;&#65292;<span class="RktSym">case</span>&#30340;&#23436;&#25972;&#23450;&#20041;&#22914;&#19979;&#65306;</p><p>(case val-expr case-clause ...)</p><p>case-clause	 	=	[(datum ...) then-body ...+]
                |	 	[else then-body ...+]</p><p>&#23545; <span class="RktVar">val-expr</span>&#27714;&#20540;&#24182;&#20351;&#29992;&#20854;&#32467;&#26524;&#26469;&#36873;&#25321;&#19968;&#20010; <span class="RktSym">case-clause</span> &#12290;&#23545;&#20110;&#36873;&#23450;&#30340; <span class="RktSym">case-clause</span>&#65292;&#26368;&#21518;&#19968;&#20010; <span class="RktSym">then-body</span> &#30340;&#32467;&#26524;&#65292; &#21363;&#30456;&#23545;&#20110; <span class="RktSym">case</span>&#34920;&#32780;&#35328;&#22788;&#20110;&#23614;&#37096;&#20301;&#32622;&#30340;&#32467;&#26524;&#65292;&#26159;&#25972;&#20010; <span class="RktSym">case</span> &#34920;&#30340;&#32467;&#26524;&#12290;&#20197; <span class="RktSym">else</span> &#24320;&#22836;&#30340; <span class="RktSym">case-clause</span> &#24517;&#39035;&#26159;&#26368;&#21518;&#19968;&#20010; <span class="RktSym">case-clause</span>&#12290;</p><p>&#30001;&#20110;&#38656;&#35201;&#22810;&#27425;&#37325;&#22797;&#25805;&#20316;&#65292;&#20026;&#20102;&#31616;&#21333;&#65292;&#23450;&#20041;&#19968;&#20010;&#20989;&#25968;&#26469;&#23436;&#25104;&#36825;&#20010;&#24037;&#20316;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#35774;&#32622;&#34892;/&#21015;text-field%&#25511;&#20214;&#20540;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-r&amp;c-text-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#35774;&#32622;&#34892;/&#21015;&#25511;&#20214;&#20540;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">text/row</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">number-&gt;string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">text/col</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">set-value</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">number-&gt;string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">format</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#35774;&#32622;&#20026;~a&#34892;&#65292;~a&#21015;&#12290;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#37324;&#36793;&#30340;&#26041;&#27861;&#12289;&#20989;&#25968;&#19978;&#36793;&#24050;&#23558;&#20171;&#32461;&#36807;&#65292;&#27809;&#21861;&#35828;&#30340;&#12290;</p><h4>29.6<tt>&nbsp;</tt><a name="(part._main-frame-controler/button-select-picture-callback)"></a>button/select-picture&#36873;&#25321;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</h4><p>&#20808;&#30475;&#20195;&#30721;&#12290;&#21518;&#20570;&#35299;&#37322;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;button/select-picture&#36873;&#25321;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">button/select-picture-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">event</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#26681;&#25454;&#29992;&#25143;&#36755;&#20837;&#21462;&#24471;&#28304;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">let*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">extension</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"*.jp*g;*.png"</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">filters</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"JPG&#22270;&#29255;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"*.jpg"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktVal">"JPEG&#22270;&#29255;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"*.jpeg"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktVal">"PNG&#22270;&#29255;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"*.png"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">in</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">get-file</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#35831;&#36873;&#25321;&#20320;&#38656;&#35201;&#30340;&#22270;&#29255;"</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">main-frame</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">current-directory</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">extension</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">null</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">filters</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">get-source-picture</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">in</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">adjust-picture-size</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#37325;&#32622;&#25340;&#22270;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">reset-puzzle-picture</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#32472;&#21046;&#30446;&#26631;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">draw-target-picture</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/target</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-dc</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#32472;&#21046;&#25340;&#22270;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">draw-puzzle-picture</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-dc</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#35774;&#32622;&#25340;&#22270;&#30011;&#24067;&#37325;&#29609;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">replay</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#20010;&#21709;&#24212;&#20989;&#25968;&#26159;&#20026;&#20102;&#28982;&#29992;&#25143;&#33021;&#22815;&#33258;&#24049;&#36873;&#25321;&#22270;&#29255;&#26469;&#36827;&#34892;&#25340;&#22270;&#12290;&#35760;&#24471;&#20043;&#21069;&#30475;&#36807;&#19968;&#20010;&#25925;&#20107;&#65292;&#35828;&#19968;&#20010;&#30007;&#23401;&#20026;&#20102;&#32473;&#22899;&#21451;&#19968;&#20010;&#24778;&#21916;&#65292;&#21046;&#20316;&#20102;&#19968;&#20010;&#22905;&#30340;&#29031;&#29255;&#30340;&#25340;&#22270;&#65292;&#21162;&#21147;&#25340;&#21568;&#25340;&#21568;&#25340;&#65292;&#32456;&#20110;&#22312;&#22312;&#22899;&#26379;&#21451;&#29983;&#26085;&#37027;&#22825;&#25340;&#20986;&#20102;&#26368;&#21518;&#19968;&#22359;&#12290;&#36825;&#20010;&#28010;&#28459;&#36890;&#36807;&#36825;&#20010;&#36719;&#20214;&#23601;&#21487;&#20197;&#33258;&#21161;&#23436;&#25104;&#20102;&#65292;&#25340;&#22270;&#33258;&#30001;&#65281;</p><p>&#20854;&#20013;&#26368;&#37325;&#35201;&#30340;&#19968;&#20010;&#20989;&#25968;&#26159;<span class="RktSym">get-file</span>&#12290;&#23427;&#36890;&#36807;&#29305;&#23450;&#24179;&#21488;&#30340;&#26631;&#20934;&#65288;&#27169;&#24335;&#65289;&#23545;&#35805;&#26694;&#20174;&#29992;&#25143;&#37027;&#37324;&#33719;&#24471;&#19968;&#20010;&#25991;&#20214;&#36335;&#24452;&#21517;&#65292;&#22914;&#26524;&#25351;&#23450;&#20102; <span class="RktVar">parent</span> &#20316;&#20026;&#29238;&#31383;&#21475;&#65292; &#21017;&#20351;&#29992; <span class="RktVar">message</span> &#20316;&#20026;&#23545;&#35805;&#26694;&#39030;&#37096;&#30340;&#20449;&#24687;&#65292;&#22914;&#26524;&#23427;&#19981;&#26159; #f &#12290;</p><p>&#22312;&#20989;&#25968;<span class="RktSym">get-file</span>&#20013;&#65292;<span class="RktSym">current-directory</span>&#32473;&#23427;&#30340;<span class="RktVar">directory</span>&#21442;&#25968;&#25552;&#20379;&#21021;&#22987;&#25991;&#20214;&#36335;&#24452;&#12290;</p><p>&#25509;&#19979;&#26469;&#23601;&#29992;&#20043;&#21069;&#22312;&#27169;&#22411;&#27169;&#22359;&#37324;&#20934;&#22791;&#22909;&#30340;<span class="RktSym">get-source-picture</span>&#23558;&#22270;&#29255;&#35835;&#21462;&#21040;&#20869;&#23384;&#20013;&#65292;&#20877;&#29992;<span class="RktSym">adjust-picture-size</span>&#23558;&#20854;&#23610;&#23544;&#25972;&#29702;&#21040;&#39044;&#35746;&#30340;&#22823;&#23567;&#65288;&#26681;&#25454;&#25340;&#22270;&#30011;&#24067;&#26469;&#30830;&#23450;&#23610;&#23544;&#65292;&#21518;&#36793;&#31243;&#24207;&#21021;&#22987;&#21270;&#30340;&#26102;&#20505;&#20250;&#38416;&#36848;&#21040;&#65289;&#12290;</p><p>&#22270;&#29255;&#20934;&#22791;&#22909;&#20102;&#65292;&#23601;&#25353;&#39034;&#24207;&#20043;&#34892;&#20043;&#21069;&#22312;&#27169;&#22411;&#27169;&#22359;&#37324;&#20889;&#22909;&#30340;&#20989;&#25968;&#65306;<span class="RktSym">reset-puzzle-picture</span>&#12289;<span class="RktSym">draw-target-picture</span>&#12289;<span class="RktSym">draw-puzzle-picture</span>&#12290;</p><p>&#26368;&#21518;&#65292;&#21457;&#28040;&#24687;&#32473;<span class="RktVar">canvas/puzzle</span>&#35843;&#29992;<span class="RktSym">replay</span>&#26041;&#27861;&#21551;&#21160;&#28216;&#25103;&#12290;</p><h4>29.7<tt>&nbsp;</tt><a name="(part._main-frame-controler/button-blend-cells-callback)"></a>button/blend-cells&#28151;&#21512;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</h4><p>&#20808;&#30475;&#20195;&#30721;&#65292;&#20877;&#20316;&#35299;&#37322;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;button/blend-cells&#28151;&#21512;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">button/blend-cells-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">event</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">when</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">setted-r&amp;c-value?</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#37325;&#32622;&#28151;&#21512;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">reset-puzzle-picture</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#32472;&#21046;&#25340;&#22270;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">draw-puzzle-picture</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-dc</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#35774;&#32622;&#25340;&#22270;&#30011;&#24067;&#37325;&#29609;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">replay</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#20010;&#22238;&#35843;&#20989;&#25968;&#23454;&#29616;&#23558;&#25340;&#22270;&#37325;&#26032;&#25171;&#20081;&#28151;&#21512;&#19968;&#27425;&#12290;</p><p>&#39318;&#20808;&#23545;&#34892;&#21015;&#20540;&#26159;&#21542;&#36827;&#34892;&#20102;&#27491;&#30830;&#35774;&#32622;&#36827;&#34892;&#19968;&#20010;&#21028;&#26029;&#65292;&#36825;&#26159;&#21069;&#25552;&#65292;&#20989;&#25968;&#20869;&#23481;&#21518;&#38754;&#35762;&#12290;</p><p>&#20174;&#20989;&#25968;&#20869;&#23481;&#26469;&#30475;&#65292;&#23601;&#26159;&#25226;&#19978;&#36793;&#8220;&#36873;&#25321;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;&#8221;&#21518;&#38754;&#30340;&#24037;&#20316;&#20570;&#19968;&#36941;&#12290;&#22240;&#27492;&#65292;&#21487;&#20197;&#25226;&#36873;&#25321;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;&#22312;&#21462;&#24471;&#22270;&#29255;&#21518;&#65292;&#30452;&#25509;&#21521;&#28151;&#21512;&#22270;&#29255;&#25353;&#38062;&#21457;&#36865;<span class="RktSym">command</span>&#28040;&#24687;&#27169;&#25311;&#28857;&#20987;&#23601;&#21487;&#20197;&#12290;&#22914;&#19979;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;button/select-picture&#36873;&#25321;&#22270;&#29255;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">button/select-picture-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">event</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#26681;&#25454;&#29992;&#25143;&#36755;&#20837;&#21462;&#24471;&#28304;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">let*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">extension</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"*.jp*g;*.png"</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">filters</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVal">"JPG&#22270;&#29255;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"*.jpg"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktVal">"JPEG&#22270;&#29255;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"*.jpeg"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktVal">"PNG&#22270;&#29255;"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"*.png"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">in</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">get-file</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#35831;&#36873;&#25321;&#20320;&#38656;&#35201;&#30340;&#22270;&#29255;"</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">main-frame</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">current-directory</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">extension</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">null</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">filters</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">get-source-picture</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">in</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">adjust-picture-size</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">button/blend-cells</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">command</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">new</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control-event%</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">even-type</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktSym">button</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#24403;&#28982;&#65292;&#20063;&#21487;&#20197;&#23558;&#24819;&#24212;&#20195;&#30721;&#29420;&#31435;&#20986;&#26469;&#20316;&#20026;&#19968;&#20010;&#21487;&#22797;&#29992;&#30340;&#20989;&#25968;&#20063;&#26159;&#21487;&#20197;&#30340;&#65292;&#19981;&#36807;&#27809;&#36825;&#20010;&#26041;&#24335;&#36825;&#26679;&#19981;&#22686;&#21152;&#29420;&#31435;&#20989;&#25968;&#30452;&#25509;&#21457;&#36865;&#28040;&#24687;&#22909;&#65292;&#32780;&#19988;&#26356;&#23433;&#20840;&#12290;</p><p>&#36825;&#37324;&#38656;&#35201;&#20026;&#21457;&#36865;&#30340;<span class="RktSym">command</span>&#20934;&#22791;&#19968;&#20010;&#20107;&#20214;&#65292;&#20351;&#29992;&#26032;&#21019;&#38190;&#19968;&#20010;<span class="RktSym">control-event%</span>&#31867;&#30340;&rsquo;button&#31867;&#22411;&#20107;&#20214;&#23545;&#35937;&#26469;&#23454;&#29616;&#12290;<span class="RktSym">control-event%</span>&#30340;&#20107;&#20214;&#31867;&#22411;&#65288;<span class="RktVar">event-type</span>&#65289;&#22914;&#19979;&#65306;</p><ul><li><p>&rsquo;button &#8212; &#29992;&#20110; button% &#30340;&#28857;&#20987;&#65307;</p></li><li><p>&rsquo;check-box &#8212; &#29992;&#20110; check-box% &#30340;&#20999;&#25442;&#65307;</p></li><li><p>&rsquo;choice &#8212; &#29992;&#20110; choice% &#39033;&#30446;&#30340;&#36873;&#25321;&#65307;</p></li><li><p>&rsquo;list-box &#8212; &#29992;&#20110; list-box% &#30340;&#36873;&#25321;&#21644;&#21462;&#28040;&#36873;&#25321;&#65307;</p></li><li><p>&rsquo;list-box-dclick &#8212; &#29992;&#20110; list-box% &#30340;&#21452;&#20987;&#65307;</p></li><li><p>&rsquo;list-box-column &#8212; &#29992;&#20110;&#22312; column-control-event% &#23454;&#20363;&#20013;&#30340; list-box% &#21015;&#30340;&#28857;&#20987;&#65307;</p></li><li><p>&rsquo;text-field &#8212; &#29992;&#20110; text-field% &#30340;&#21464;&#21270;&#65307;</p></li><li><p>&rsquo;text-field-enter &#8212; &#29992;&#20110;&#21333;&#34892; text-field% &#30340;&#36755;&#20837;&#20107;&#20214;&#65307;</p></li><li><p>&rsquo;menu &#8212; &#29992;&#20110; selectable-menu-item&lt;%&gt; &#30340;&#22238;&#35843;&#65307;</p></li><li><p>&rsquo;slider &#8212; &#29992;&#20110; slider% &#30340;&#21464;&#21270;&#65307;</p></li><li><p>&rsquo;radio-box &#8212; &#29992;&#20110; radio-box% &#30340;&#36873;&#25321;&#21464;&#21270;&#65307;</p></li><li><p>&rsquo;tab-panel &#8212; &#29992;&#20110; tab-panel% &#26631;&#31614;&#30340;&#21464;&#21270;&#65307;</p></li><li><p>&rsquo;menu-popdown &#8212; &#29992;&#20110; popup-menu% &#30340;&#22238;&#35843;&#65288;&#39033;&#30446;&#34987;&#36873;&#20013;&#65289;&#65307;</p></li><li><p>&rsquo;menu-popdown-none &#8212; &#29992;&#20110; popup-menu% &#30340;&#22238;&#35843;&#65288;&#27809;&#26377;&#36873;&#25321;&#39033;&#30446;&#65289;&#12290;</p></li></ul><p>&#26377;&#20102;&#36825;&#20010;&#65292;&#23601;&#21487;&#20197;&#22312;&#31243;&#24207;&#20869;&#27169;&#25311;&#21508;&#31181;&#20107;&#20214;&#20102;&#12290;</p><p>&#22914;&#26524;&#24819;&#35774;&#35745;&#19968;&#20010;&#33258;&#21160;&#27979;&#35797;GUI&#30028;&#38754;&#21151;&#33021;&#30340;&#26102;&#20505;&#65292;&#36825;&#20010;<span class="RktSym">command</span>&#26041;&#27861;&#29305;&#21035;&#26377;&#29992;&#12290;</p><h4>29.8<tt>&nbsp;</tt><a name="(part._main-frame-controler/setted-rc-value~3f)"></a>&#21028;&#26029;&#35774;&#32622;&#34892;&#21015;&#25968;&#26159;&#21542;&#25104;&#21151;</h4><p>&#34429;&#28982;&#34892;&#21015;&#25991;&#26412;&#23383;&#27573;&#25511;&#20214;&#26412;&#36523;&#20063;&#20316;&#20102;&#23481;&#38169;&#26816;&#26597;&#12290;&#20294;&#20173;&#21487;&#33021;&#20986;&#29616;&#34892;&#21015;&#25991;&#26412;&#23383;&#27573;&#20869;&#36755;&#20837;&#19981;&#28385;&#36275;&#35201;&#27714;&#32780;&#36896;&#25104;&#38169;&#35823;&#65292;&#22240;&#27492;&#36825;&#37324;&#29992;&#36825;&#20010;&#29420;&#31435;&#20989;&#25968;&#26469;&#20570;&#19968;&#20010;&#26816;&#26597;&#12290;&#23454;&#38469;&#20351;&#29992;&#30340;&#29992;&#25143;&#34892;&#20026;&#26159;&#26410;&#30693;&#30340;&#65292;&#22240;&#27492;&#22312;GUI&#31243;&#24207;&#20013;&#36825;&#31181;&#26816;&#26597;&#34892;&#20026;&#26159;&#38750;&#24120;&#24517;&#35201;&#30340;&#12290;</p><p>&#26469;&#30475;&#20195;&#30721;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#21028;&#26029;&#35774;&#32622;&#34892;&#21015;&#25968;&#26159;&#21542;&#25104;&#21151;&#65292;&#22914;&#26524;&#19981;&#25104;&#21151;&#36820;&#22238;#f&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">setted-r&amp;c-value?</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">let</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">r</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;number</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">text/row</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-value</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;number</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">text/col</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-value</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">and</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">and</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-rows!</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-cols!</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#t</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">and</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">not</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">not</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#34892;&#25968;&#21450;&#21015;&#25968;&#24517;&#39035;&#26159;&#25968;&#23383;&#12290;"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">and</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">&lt;=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">&lt;=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#34892;&#25968;&#21450;&#21015;&#25968;&#24517;&#39035;&#26159;&#22823;&#20110;0&#30340;&#25968;&#23383;&#12290;"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">not</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#34892;&#25968;&#24517;&#39035;&#26159;&#25968;&#23383;&#12290;"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">not</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#21015;&#25968;&#24517;&#39035;&#26159;&#25968;&#23383;&#12290;"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">&lt;=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">r</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#34892;&#25968;&#24517;&#39035;&#26159;&#22823;&#20110;0&#30340;&#25968;&#23383;&#12290;"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">&lt;=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">c</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#21015;&#25968;&#24517;&#39035;&#26159;&#22823;&#20110;0&#30340;&#25968;&#23383;&#12290;"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#20010;&#21028;&#26029;&#20989;&#25968;&#25226;&#21508;&#31181;&#19981;&#21516;&#30340;&#24773;&#20917;&#37117;&#21015;&#20030;&#20102;&#19968;&#36941;&#65292;&#29978;&#33267;&#26377;&#20123;&#20998;&#25903;&#27704;&#36828;&#37117;&#19981;&#20250;&#20351;&#29992;&#12290;&#22823;&#23478;&#21487;&#20197;&#20998;&#26512;&#19968;&#19979;&#21738;&#20010;&#25110;&#21738;&#20123;&#19981;&#26159;&#20351;&#29992;&#12290;</p><p>&#23545;&#20110;&#21028;&#26029;&#20989;&#25968;&#65292;&#19968;&#33324;&#20064;&#24815;&#22312;&#26631;&#35782;&#31526;&#26411;&#23614;&#24102;&#8220;&#65311;&#8221;&#65292;&#27714;&#20540;&#36820;&#22238;#t&#25110;#f&#12290;</p><h4>29.9<tt>&nbsp;</tt><a name="(part._main-frame-controler/button-play-again)"></a>button/play-again&#20877;&#26469;&#19968;&#27425;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;</h4><p>&#20808;&#30475;&#20195;&#30721;&#65292;&#20877;&#20316;&#35299;&#37322;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;button/play-again&#20877;&#26469;&#19968;&#27425;&#25353;&#38062;&#21709;&#24212;&#20989;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">button/play-again-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">control</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">event</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">recover-puzzle-picture</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#37325;&#26032;&#26174;&#31034;&#28151;&#21512;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">refresh-now</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">draw-puzzle-picture</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">replay</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">msg-string</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"&#20877;&#26469;&#19968;&#27425;&#65281;"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#36825;&#20010;&#21709;&#24212;&#22238;&#35843;&#20989;&#25968;&#25226;&#21018;&#25165;&#30340;&#25340;&#22270;&#20877;&#26469;&#19968;&#27425;&#12290;&#19982;&#28151;&#21512;&#25340;&#22270;&#19981;&#19968;&#26679;&#30340;&#26159;&#65292;&#28151;&#21512;&#25340;&#22270;&#35201;&#37325;&#26032;&#28151;&#21512;&#21333;&#20803;&#22270;&#29255;&#65292;&#20877;&#26469;&#19968;&#27425;&#19981;&#29992;&#37325;&#26032;&#28151;&#21512;&#65292;&#30452;&#25509;&#37325;&#26032;&#26174;&#31034;&#20986;&#26469;&#23601;&#21487;&#20197;&#20102;&#12290;</p><p>&#39318;&#20808;&#65292;&#20351;&#29992;&#20043;&#21069;&#32534;&#20889;&#22312;&#27169;&#22411;&#27169;&#22359;&#20869;&#30340;<span class="RktSym">recover-puzzle-picture</span>&#20989;&#25968;&#24674;&#22797;&#28151;&#21512;&#22270;&#29255;&#65292;&#28982;&#21518;&#37325;&#26032;&#26174;&#31034;&#20986;&#26469;&#12290;</p><p>&#36825;&#37324;&#37325;&#26032;&#26174;&#31034;&#28151;&#21512;&#22270;&#29255;&#37319;&#29992;&#20102;&#21521;<span class="RktVar">canvas/puzzle</span>&#21457;&#36865;<span class="RktSym">refresh-now</span>&#28040;&#24687;&#23436;&#25104;&#12290;</p><p><span class="RktSym">refresh-now</span>&#26041;&#27861;&#29992;&#30011;&#24067;&#30340;&#32472;&#22270;&#19978;&#19979;&#25991;&#35843;&#29992; <span class="RktSym">draw-puzzle-picture</span> &#26469;<span style="font-weight: bold">&#31435;&#21363;</span>&#26356;&#26032;&#30011;&#24067;&#65288;&#19982; <span class="RktSym">refresh</span> &#30456;&#21453;&#65292; <span class="RktSym">refresh</span> &#21482;&#26159;&#25490;&#38431;&#31561;&#24453;&#26356;&#26032;&#35831;&#27714;&#65292;&#30001;&#31383;&#21475;&#31995;&#32479;&#20915;&#23450;&#26159;&#21542;&#22788;&#29702;)&#12290;</p><p>&#33267;&#27492;&#65292;&#25152;&#26377;&#30340;&#22238;&#35843;&#20989;&#25968;&#23450;&#20041;&#23436;&#21892;&#23436;&#25104;&#12290;&#25509;&#19979;&#26469;&#23545;GUI&#20570;&#21021;&#22987;&#21270;&#31561;&#24037;&#20316;&#12290;</p><h4>29.10<tt>&nbsp;</tt><a name="(part._main-frame-controler/init-main-frame)"></a>&#21021;&#22987;&#21270;&#20027;&#30028;&#38754;</h4><p>&#20808;&#30475;&#20195;&#30721;&#65292;&#20877;&#20316;&#35299;&#37322;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#21021;&#22987;&#21270;&#20027;&#30028;&#38754;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">init-main-frame</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#21021;&#22987;&#21270;&#23485;&#39640;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-picture-size!</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-width</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-height</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#21021;&#22987;&#21270;&#34892;&#21015;&#25968;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-rows!</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;number</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">text/row</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-value</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-cols!</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">string-&gt;number</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">text/col</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-value</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#21021;&#22987;&#21270;&#25340;&#22270;&#25968;&#25454;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">init-puzzle-data</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#32472;&#21046;&#30446;&#26631;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-target-size</span><span class="RktPn">)</span><span class="RktCmt">;&#35774;&#32622;&#30446;&#26631;&#22270;&#29255;&#30011;&#24067;&#23610;&#23544;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">draw-target-picture</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/target</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-dc</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#32472;&#21046;&#25340;&#22270;&#22270;&#29255;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">draw-puzzle-picture</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-dc</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">;&#35774;&#32622;&#25340;&#22270;&#30011;&#24067;&#37325;&#29609;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">replay</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#19981;&#29992;&#35299;&#37322;&#20102;&#65292;&#20195;&#30721;&#23601;&#26159;&#35299;&#37322;&#12290;</p><h4>29.11<tt>&nbsp;</tt><a name="(part._main-frame-controler/set-target-size)"></a>&#35774;&#32622;&#30446;&#26631;&#22270;&#29255;&#30011;&#24067;&#23610;&#23544;</h4><p>&#30452;&#25509;&#30475;&#20195;&#30721;&#21543;&#65292;&#27809;&#20160;&#20040;&#35828;&#30340;&#20102;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;&#35774;&#32622;&#30446;&#26631;&#22270;&#29255;&#30011;&#24067;&#23610;&#23544;&#65306;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">set-target-size</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">let*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">w/p</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-width</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">h/p</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/puzzle</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-height</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">w/t</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/target</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">get-width</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktSym">h/t</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">floor</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">h/p</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">/</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">w/t</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">w/p</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">send</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/target</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">min-height</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">h/t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#22909;&#20102;&#65292;&#20026;&#20102;&#20197;&#19978;&#30340;&#20989;&#25968;&#20013;&#38656;&#35201;&#26126;&#31034;&#30340;&#36827;&#34892;<span class="RktSym">provide</span>&#36755;&#20986;&#65292;&#36825;&#26679;&#23601;&#33021;&#22815;&#35753;&#35270;&#22270;&#27169;&#22359;&#31561;&#20854;&#23427;&#27169;&#22359;&#20351;&#29992;&#20102;&#12290;&#22914;&#19979;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">provide</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">canvas/target-callback</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">button/exit-callback</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">text/row-callback</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">text/col-callback</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">choice/r&amp;c-callback</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">button/select-picture-callback</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">button/blend-cells-callback</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">button/play-again-callback</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">init-main-frame</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">show-main-frame</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">msg-mouse-pos</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">msg-string</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>&#21040;&#27492;&#65292;MVC&#20013;&#30340;&#19977;&#20010;&#37117;&#20171;&#32461;&#23436;&#20102;&#12290;&#36816;&#34892;&#31243;&#24207;&#65292;&#20250;&#21457;&#29616;&#26681;&#26412;&#19981;&#33021;&#31227;&#21160;&#25340;&#22270;&#21333;&#20803;&#22270;&#29255;&#65292;&#36825;&#20010;&#65292;&#24590;&#20040;&#25340;&#22270;&#65311;&#65281;</p><p>&#21035;&#24613;&#65292;&#25509;&#19979;&#26469;&#23545;&#25340;&#22270;&#30011;&#24067;&#36827;&#34892;&#25193;&#23637;&#65292;&#23454;&#29616;&#20132;&#20114;&#24037;&#20316;&#23601;&#21487;&#20197;&#20102;&#12290;</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="gui_create-right-layout.html" title="backward to &quot;28 创建右侧布局&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;用Racket做一个拼图游戏&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="controler_puzzle-canvas-class.html" title="forward to &quot;30 拼图画布类&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>